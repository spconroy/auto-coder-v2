# auto-coder-v2

Scaffold for a local-first autonomous coding agent powered by Ollama and MCP tooling.

## Getting Started

1. Install dependencies (the CLI uses npm workbench tooling):
   ```sh
   npm install
   ```
2. Run the CLI in dev mode:
   ```sh
   npm run dev -- --help
   ```
3. Build the distributable bundle when ready:
   ```sh
   npm run build
   ```
4. Execute the unit test suite:
   ```sh
   npm test
   ```
5. Run the end-to-end demo task (plans, applies diff, runs tests):
   ```sh
   ./scripts/demo.sh
   ```
   *Requires a clean git working tree because the agent creates a dedicated branch.*

> The current CLI wires up `plan`, `show`, `run`, and `resume` with lightweight helpers (task generation, persistence, and state tracking). MCP-backed execution still needs to be filled in per the `spec.md` checklist.

## Project Structure

- `src/cli` – Command-line entry point (Commander-based surface).
- `src/core` – Task planning, persistence, run-state helpers, and git orchestration.
- `src/daemon` – Placeholder for the MCP JSON-RPC server.
- `src/utils` – Shared filesystem/id utilities.
- `coder.config.json` – Default configuration values referenced by future features.
- `.coder/` – Runtime state, logs (`.jsonl`), and task/spec artifacts generated by the CLI.
  - optional `.coder/patches/<taskId>/<stepId>.diff` files can be dropped in to feed edit/doc steps until the MCP planner generates diffs automatically. The demo script copies `examples/sample-task/patches/s2.diff` into place for you.

Refer to `AGENTS.md` and `spec.md` for contributor guidance and the detailed implementation roadmap.
